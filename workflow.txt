TODO:
Makefiles
refactor head.tex into a package
epub/mobi workflow

proposed workflow:
single-author markdown -> individual talks in markdown
markdown ---> LaTeX
          '-> HTML
[make edits to individual LaTeX and HTML talks]
each volN.tex \inputs talks from manuscripts/latex
[build volN.tex into publish/]

TODO: write toc2latex.py to generate latex \includes


to generate markdown from TC's .doc's

pull zips from Google Docs and unzip them

find -name "*doc" -print0 | xargs -0 unoconv -f odt
find -name "*odt" -print0 | xargs -0 ooo_cat > ../AUTHOR-all.odt

libreoffice ../AUTHOR-all.odt

strip whitespace
remove blank lines
confirm author's name is correct for all talks
substitute dumb- for smart-quotes
substitute --- for em-dash
substitue ... for . . .
save as html

pandoc AUTHOR-all.html -o AUTHOR-all.md --atx-headers

search AUTHOR-all.md for "\*\*" and troubleshoot

scripts/mdheads.py < AUTHOR.md > AUTHOR2.md
mv AUTHOR2.md AUTHOR.md

edit AUTHOR.md's

PWD=manscripts
../scripts/md2latex latex/AUTHOR < markdown/AUTHOR.md

generate pdf from markdown:
PWD=manuscripts/markdown
../../scripts/buildvol.py < ../volN-toc.csv | pandoc -f markdown -t html -S | \
../../scripts/html2tex.py | fold -s -w 72 | cat ../latex/head.tex - \
../latex/tail.tex > ../latex/volN.tex

